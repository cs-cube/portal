(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{pU93:function(t,e,i){"use strict";i.r(e);var c=i("Valr"),n=i("DUip"),r=i("SWMs"),a=i("ETwC"),o=i("TYT/"),s=i("0gkb"),b=i("o9IV"),u=i("chSY"),l=i("WHFS"),p=i("l5Kb"),d=i("17Os"),m=i("p+mS"),f=i("GsDI"),h=i("H6It"),v=i("/RhQ");function S(t,e){1&t&&(o.Wb(0,"th",22),o.Kc(1," Description "),o.Vb())}function C(t,e){if(1&t&&(o.Wb(0,"td",23),o.Kc(1),o.Vb()),2&t){var i=e.$implicit;o.Cb(1),o.Mc(" ",i.description," ")}}function W(t,e){1&t&&(o.Wb(0,"th",22),o.Kc(1," Dimension "),o.Vb())}function V(t,e){if(1&t&&(o.Wb(0,"td",23),o.Kc(1),o.Vb()),2&t){var i=e.$implicit;o.Cb(1),o.Mc(" ",i.dimension," ")}}function y(t,e){1&t&&o.Rb(0,"tr",24)}function w(t,e){1&t&&o.Rb(0,"tr",25)}function _(t,e){1&t&&(o.Wb(0,"th",22),o.Kc(1," Description "),o.Vb())}function R(t,e){if(1&t&&(o.Wb(0,"td",23),o.Kc(1),o.Vb()),2&t){var i=e.$implicit;o.Cb(1),o.Mc(" ",i.description," ")}}function D(t,e){1&t&&o.Rb(0,"tr",24)}function I(t,e){1&t&&o.Rb(0,"tr",25)}function g(t,e){1&t&&(o.Wb(0,"th",22),o.Kc(1," Type "),o.Vb())}function K(t,e){if(1&t&&(o.Wb(0,"td",23),o.Kc(1),o.Vb()),2&t){var i=e.$implicit;o.Cb(1),o.Mc(" ",i.type_label," ")}}function z(t,e){1&t&&(o.Wb(0,"th",22),o.Kc(1," Paper Size "),o.Vb())}function P(t,e){if(1&t&&(o.Wb(0,"td",23),o.Kc(1),o.Vb()),2&t){var i=e.$implicit;o.Cb(1),o.Mc(" ",i.is_printing?i.paper_size.description:"-"," ")}}function Q(t,e){1&t&&(o.Wb(0,"th",22),o.Kc(1," Print Quality "),o.Vb())}function q(t,e){if(1&t&&(o.Wb(0,"td",23),o.Kc(1),o.Vb()),2&t){var i=e.$implicit;o.Cb(1),o.Mc(" ",i.is_printing?i.print_quality.description:"-"," ")}}function T(t,e){1&t&&(o.Wb(0,"th",22),o.Kc(1," Rate "),o.Vb())}function k(t,e){if(1&t&&(o.Wb(0,"td",26),o.Kc(1),o.nc(2,"currency"),o.Vb()),2&t){var i=e.$implicit;o.Cb(1),o.Mc(" ",o.pc(2,1,i.rate," ")," ")}}function U(t,e){1&t&&(o.Wb(0,"th",27),o.Kc(1," Last Updated At "),o.Vb())}function M(t,e){if(1&t&&(o.Wb(0,"td",28),o.Kc(1),o.nc(2,"titlecase"),o.nc(3,"dfnsDistanceInWordsToNow"),o.nc(4,"parseDate"),o.Vb()),2&t){var i=e.$implicit;o.Cb(1),o.Mc(" ",o.oc(2,1,o.oc(3,3,o.oc(4,5,i.created_at)))," ")}}function x(t,e){1&t&&o.Rb(0,"th",29)}function $(t,e){if(1&t){var i=o.Xb();o.Wb(0,"td",23),o.Wb(1,"button",30),o.ic("click",(function(t){o.Bc(i);var c=e.$implicit;return o.mc().editRate(c)})),o.Wb(2,"mat-icon"),o.Kc(3,"edit"),o.Vb(),o.Vb(),o.Vb()}}function H(t,e){1&t&&o.Rb(0,"tr",24)}var E=function(t){return{danger:t}};function N(t,e){1&t&&o.Rb(0,"tr",31),2&t&&o.sc("ngClass",o.wc(1,E,0==e.$implicit.rate))}var O=[{path:"printing-service",component:function(){function t(t,e,i,c,n){this.paperSizeService=t,this.printQualityService=e,this.serviceRateService=i,this.modalService=c,this.stateService=n,this.paperSizeColumns=["description","dimension"],this.printQualityColumns=["description"],this.serviceRateColumns=["type","paper_size","print_quality","rate","created_at","action"],this.paper_sizes_mds=new a.k,this.print_qualities_mds=new a.k,this.service_rates_mds=new a.k}return t.prototype.ngOnInit=function(){this.fetchPaperSizes(),this.fetchPrintQualities(),this.fetchServiceRates()},t.prototype.fetchPaperSizes=function(){var t=this;this.paperSizeService.query().subscribe((function(e){t.paper_sizes_mds.connect().next(e)}))},t.prototype.fetchPrintQualities=function(){var t=this;this.printQualityService.query().subscribe((function(e){t.print_qualities_mds.connect().next(e)}))},t.prototype.fetchServiceRates=function(){var t=this;this.serviceRateService.query().subscribe((function(e){var i=e.map((function(t){return(new r.a).fill(t)}));t.service_rates_mds.connect().next(i)}))},t.prototype.addPaperSize=function(){var t=this;this.modalService.prompt({question:"Enter paper size name:"}).then((function(e){e&&t.modalService.prompt({question:"Enter dimension: (L x W)"}).then((function(i){i&&t.paperSizeService.create({description:e,dimension:i}).subscribe((function(){t.modalService.toast("Paper added!"),t.fetchPaperSizes(),t.fetchServiceRates(),t.stateService.unset("paper_sizes"),t.stateService.unset("service_rates")}))}))}))},t.prototype.addPrintQuality=function(){var t=this;this.modalService.prompt({question:"Enter print quality"}).then((function(e){e&&t.printQualityService.create({description:e}).subscribe((function(){t.modalService.toast("Print quality added!"),t.fetchPrintQualities(),t.fetchServiceRates(),t.stateService.unset("print_qualities"),t.stateService.unset("service_rates")}))}))},t.prototype.editRate=function(t){var e=this;this.modalService.prompt({question:t.is_scanning?"Enter rate for scanning":"Enter new rate for "+t.paper_size.description+"-"+t.print_quality.description,value:t.rate.toString()}).then((function(i){if(i){var c=JSON.parse(JSON.stringify(t));c.rate=i,e.serviceRateService.create(c).subscribe((function(){e.modalService.toast("Print rate quality was updated!"),e.fetchServiceRates(),e.stateService.unset("service_rates")}),(function(t){console.log(t),e.modalService.alert({message:"Error occured!",type:"warn"})}))}}))},t.\u0275fac=function(e){return new(e||t)(o.Qb(s.a),o.Qb(b.a),o.Qb(u.a),o.Qb(l.a),o.Qb(p.a))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-printing-service"]],decls:67,vars:9,consts:[[1,"row"],[1,"col-lg-4"],["mat-table","",1,"full-width",3,"dataSource"],["matColumnDef","description"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","dimension"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-raised-button","","color","primary",3,"click"],[1,"col-lg-8"],["matColumnDef","type"],["matColumnDef","paper_size"],["matColumnDef","print_quality"],["matColumnDef","rate"],["mat-cell","","class","text-right pr-1",4,"matCellDef"],["matColumnDef","created_at"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","action"],["mat-header-cell","","style","width: 5%",4,"matHeaderCellDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],["mat-cell","",1,"text-right","pr-1"],["mat-header-cell","",1,"text-center"],["mat-cell","",1,"text-center"],["mat-header-cell","",2,"width","5%"],["mat-button","","color","primary",3,"click"],["mat-row","",3,"ngClass"]],template:function(t,e){1&t&&(o.Wb(0,"h1"),o.Kc(1,"Printing Service Settings"),o.Vb(),o.Wb(2,"div",0),o.Wb(3,"div",1),o.Wb(4,"mat-card"),o.Wb(5,"mat-card-header"),o.Wb(6,"h2"),o.Kc(7,"Paper Sizes"),o.Vb(),o.Vb(),o.Wb(8,"mat-card-content"),o.Wb(9,"table",2),o.Ub(10,3),o.Ic(11,S,2,0,"th",4),o.Ic(12,C,2,1,"td",5),o.Tb(),o.Ub(13,6),o.Ic(14,W,2,0,"th",4),o.Ic(15,V,2,1,"td",5),o.Tb(),o.Ic(16,y,1,0,"tr",7),o.Ic(17,w,1,0,"tr",8),o.Vb(),o.Rb(18,"br"),o.Wb(19,"button",9),o.ic("click",(function(t){return e.addPaperSize()})),o.Wb(20,"mat-icon"),o.Kc(21,"add"),o.Vb(),o.Kc(22," New Paper Size"),o.Vb(),o.Vb(),o.Vb(),o.Rb(23,"br"),o.Wb(24,"mat-card"),o.Wb(25,"mat-card-header"),o.Wb(26,"h2"),o.Kc(27,"Print Qualities"),o.Vb(),o.Vb(),o.Wb(28,"mat-card-content"),o.Wb(29,"table",2),o.Ub(30,3),o.Ic(31,_,2,0,"th",4),o.Ic(32,R,2,1,"td",5),o.Tb(),o.Ic(33,D,1,0,"tr",7),o.Ic(34,I,1,0,"tr",8),o.Vb(),o.Rb(35,"br"),o.Wb(36,"button",9),o.ic("click",(function(t){return e.addPrintQuality()})),o.Wb(37,"mat-icon"),o.Kc(38,"add"),o.Vb(),o.Kc(39," New Print Quality"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(40,"div",10),o.Wb(41,"mat-card"),o.Wb(42,"mat-card-header"),o.Wb(43,"h2"),o.Kc(44,"Service Rates"),o.Vb(),o.Vb(),o.Wb(45,"mat-card-content"),o.Wb(46,"table",2),o.Ub(47,11),o.Ic(48,g,2,0,"th",4),o.Ic(49,K,2,1,"td",5),o.Tb(),o.Ub(50,12),o.Ic(51,z,2,0,"th",4),o.Ic(52,P,2,1,"td",5),o.Tb(),o.Ub(53,13),o.Ic(54,Q,2,0,"th",4),o.Ic(55,q,2,1,"td",5),o.Tb(),o.Ub(56,14),o.Ic(57,T,2,0,"th",4),o.Ic(58,k,3,4,"td",15),o.Tb(),o.Ub(59,16),o.Ic(60,U,2,0,"th",17),o.Ic(61,M,5,7,"td",18),o.Tb(),o.Ub(62,19),o.Ic(63,x,1,0,"th",20),o.Ic(64,$,4,0,"td",5),o.Tb(),o.Ic(65,H,1,0,"tr",7),o.Ic(66,N,1,3,"tr",21),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&t&&(o.Cb(9),o.sc("dataSource",e.paper_sizes_mds),o.Cb(7),o.sc("matHeaderRowDef",e.paperSizeColumns),o.Cb(1),o.sc("matRowDefColumns",e.paperSizeColumns),o.Cb(12),o.sc("dataSource",e.print_qualities_mds),o.Cb(4),o.sc("matHeaderRowDef",e.printQualityColumns),o.Cb(1),o.sc("matRowDefColumns",e.printQualityColumns),o.Cb(12),o.sc("dataSource",e.service_rates_mds),o.Cb(19),o.sc("matHeaderRowDef",e.serviceRateColumns),o.Cb(1),o.sc("matRowDefColumns",e.serviceRateColumns))},directives:[d.a,d.d,d.c,a.j,a.c,a.e,a.b,a.g,a.i,m.b,f.a,a.d,a.a,a.f,a.h,c.k],pipes:[c.d,c.u,h.c,v.a],styles:[".danger[_ngcontent-%COMP%]{background:#ffd7d7}"]}),t}()}],j=function(){function t(){}return t.\u0275mod=o.Ob({type:t}),t.\u0275inj=o.Nb({factory:function(e){return new(e||t)},imports:[[n.j.forChild(O)],n.j]}),t}(),J=i("FpXt");i.d(e,"SettingsModule",(function(){return F}));var F=function(){function t(){}return t.\u0275mod=o.Ob({type:t}),t.\u0275inj=o.Nb({factory:function(e){return new(e||t)},imports:[[c.c,j,J.a,h.b.forRoot()]]}),t}()}}]);