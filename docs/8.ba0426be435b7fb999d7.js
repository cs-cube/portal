(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{pU93:function(t,e,i){"use strict";i.r(e);var n=i("Valr"),r=i("DUip"),c=i("ETwC"),a=i("TYT/"),o=i("mrSG"),s=i("fB3y"),b=i("cUzu"),u=function(t){function e(e){var i=t.call(this,e,"paper-sizes")||this;return i.http=e,i}return Object(o.b)(e,t),e.\u0275fac=function(t){return new(t||e)(a.ec(b.b))},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(s.a),p=function(t){function e(e){var i=t.call(this,e,"print-qualities")||this;return i.http=e,i}return Object(o.b)(e,t),e.\u0275fac=function(t){return new(t||e)(a.ec(b.b))},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(s.a),d=function(t){function e(e){var i=t.call(this,e,"print-rates")||this;return i.http=e,i}return Object(o.b)(e,t),e.\u0275fac=function(t){return new(t||e)(a.ec(b.b))},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(s.a),l=i("WHFS"),f=i("17Os"),m=i("p+mS"),h=i("GsDI"),v=i("H6It"),C=i("/RhQ");function S(t,e){1&t&&(a.Wb(0,"th",20),a.Kc(1," Description "),a.Vb())}function w(t,e){if(1&t&&(a.Wb(0,"td",21),a.Kc(1),a.Vb()),2&t){var i=e.$implicit;a.Cb(1),a.Mc(" ",i.description," ")}}function y(t,e){1&t&&(a.Wb(0,"th",20),a.Kc(1," Dimension "),a.Vb())}function W(t,e){if(1&t&&(a.Wb(0,"td",21),a.Kc(1),a.Vb()),2&t){var i=e.$implicit;a.Cb(1),a.Mc(" ",i.dimension," ")}}function V(t,e){1&t&&a.Rb(0,"tr",22)}function R(t,e){1&t&&a.Rb(0,"tr",23)}function D(t,e){1&t&&(a.Wb(0,"th",20),a.Kc(1," Description "),a.Vb())}function _(t,e){if(1&t&&(a.Wb(0,"td",21),a.Kc(1),a.Vb()),2&t){var i=e.$implicit;a.Cb(1),a.Mc(" ",i.description," ")}}function I(t,e){1&t&&a.Rb(0,"tr",22)}function P(t,e){1&t&&a.Rb(0,"tr",23)}function z(t,e){1&t&&(a.Wb(0,"th",20),a.Kc(1," Paper Size "),a.Vb())}function K(t,e){if(1&t&&(a.Wb(0,"td",21),a.Kc(1),a.Vb()),2&t){var i=e.$implicit;a.Cb(1),a.Mc(" ",i.paper_size.description," ")}}function g(t,e){1&t&&(a.Wb(0,"th",20),a.Kc(1," Print Quality "),a.Vb())}function Q(t,e){if(1&t&&(a.Wb(0,"td",21),a.Kc(1),a.Vb()),2&t){var i=e.$implicit;a.Cb(1),a.Mc(" ",i.print_quality.description," ")}}function q(t,e){1&t&&(a.Wb(0,"th",20),a.Kc(1," Rate "),a.Vb())}function k(t,e){if(1&t&&(a.Wb(0,"td",21),a.Kc(1),a.nc(2,"currency"),a.Vb()),2&t){var i=e.$implicit;a.Cb(1),a.Mc(" ",a.pc(2,1,i.rate," ")," ")}}function M(t,e){1&t&&(a.Wb(0,"th",24),a.Kc(1," Last Updated At "),a.Vb())}function T(t,e){if(1&t&&(a.Wb(0,"td",25),a.Kc(1),a.nc(2,"titlecase"),a.nc(3,"dfnsDistanceInWordsToNow"),a.nc(4,"parseDate"),a.Vb()),2&t){var i=e.$implicit;a.Cb(1),a.Mc(" ",a.oc(2,1,a.oc(3,3,a.oc(4,5,i.created_at)))," ")}}function U(t,e){1&t&&a.Rb(0,"th",26)}function O(t,e){if(1&t){var i=a.Xb();a.Wb(0,"td",21),a.Wb(1,"button",27),a.ic("click",(function(t){a.Bc(i);var n=e.$implicit;return a.mc().editRate(n)})),a.Wb(2,"mat-icon"),a.Kc(3,"edit"),a.Vb(),a.Vb(),a.Vb()}}function H(t,e){1&t&&a.Rb(0,"tr",22)}var $=function(t){return{danger:t}};function j(t,e){1&t&&a.Rb(0,"tr",28),2&t&&a.sc("ngClass",a.wc(1,$,0==e.$implicit.rate))}var x=[{path:"printing-service",component:function(){function t(t,e,i,n){this.paperSizeService=t,this.printQualityService=e,this.printRateService=i,this.modalService=n,this.paperSizeColumns=["description","dimension"],this.printQualityColumns=["description"],this.printRateColumns=["paper_size","print_quality","rate","created_at","action"],this.paper_sizes_mds=new c.k,this.print_qualities_mds=new c.k,this.print_rates_mds=new c.k}return t.prototype.ngOnInit=function(){this.fetchPaperSizes(),this.fetchPrintQualities(),this.fetchPrintRates()},t.prototype.fetchPaperSizes=function(){var t=this;this.paperSizeService.query().subscribe((function(e){t.paper_sizes_mds.connect().next(e)}))},t.prototype.fetchPrintQualities=function(){var t=this;this.printQualityService.query().subscribe((function(e){t.print_qualities_mds.connect().next(e)}))},t.prototype.fetchPrintRates=function(){var t=this;this.printRateService.query().subscribe((function(e){t.print_rates_mds.connect().next(e)}))},t.prototype.addPaperSize=function(){var t=this;this.modalService.prompt({question:"Enter paper size name:"}).then((function(e){e&&t.modalService.prompt({question:"Enter dimension: (L x W)"}).then((function(i){i&&t.paperSizeService.create({description:e,dimension:i}).subscribe((function(){t.modalService.toast("Paper added!"),t.fetchPaperSizes(),t.fetchPrintRates()}))}))}))},t.prototype.addPrintQuality=function(){var t=this;this.modalService.prompt({question:"Enter print quality"}).then((function(e){e&&t.printQualityService.create({description:e}).subscribe((function(){t.modalService.toast("Print quality added!"),t.fetchPrintQualities(),t.fetchPrintRates()}))}))},t.prototype.editRate=function(t){var e=this;this.modalService.prompt({question:"Enter new rate for "+t.paper_size.description+"-"+t.print_quality.description,value:t.rate.toString()}).then((function(i){if(i){var n=JSON.parse(JSON.stringify(t));n.rate=i,e.printRateService.create(n).subscribe((function(){e.modalService.toast("Print rate quality was updated!"),e.fetchPrintRates()}),(function(t){console.log(t),e.modalService.alert({message:"Error occured!",type:"warn"})}))}}))},t.\u0275fac=function(e){return new(e||t)(a.Qb(u),a.Qb(p),a.Qb(d),a.Qb(l.a))},t.\u0275cmp=a.Kb({type:t,selectors:[["app-printing-service"]],decls:64,vars:9,consts:[[1,"row"],[1,"col-lg-4"],["mat-table","",1,"full-width",3,"dataSource"],["matColumnDef","description"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","dimension"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-raised-button","","color","primary",3,"click"],[1,"col-lg-8"],["matColumnDef","paper_size"],["matColumnDef","print_quality"],["matColumnDef","rate"],["matColumnDef","created_at"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","action"],["mat-header-cell","","style","width: 5%",4,"matHeaderCellDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],["mat-header-cell","",1,"text-center"],["mat-cell","",1,"text-center"],["mat-header-cell","",2,"width","5%"],["mat-button","","color","primary",3,"click"],["mat-row","",3,"ngClass"]],template:function(t,e){1&t&&(a.Wb(0,"h1"),a.Kc(1,"Printing Service Settings"),a.Vb(),a.Wb(2,"div",0),a.Wb(3,"div",1),a.Wb(4,"mat-card"),a.Wb(5,"mat-card-header"),a.Wb(6,"h2"),a.Kc(7,"Paper Sizes"),a.Vb(),a.Vb(),a.Wb(8,"mat-card-content"),a.Wb(9,"table",2),a.Ub(10,3),a.Ic(11,S,2,0,"th",4),a.Ic(12,w,2,1,"td",5),a.Tb(),a.Ub(13,6),a.Ic(14,y,2,0,"th",4),a.Ic(15,W,2,1,"td",5),a.Tb(),a.Ic(16,V,1,0,"tr",7),a.Ic(17,R,1,0,"tr",8),a.Vb(),a.Rb(18,"br"),a.Wb(19,"button",9),a.ic("click",(function(t){return e.addPaperSize()})),a.Wb(20,"mat-icon"),a.Kc(21,"add"),a.Vb(),a.Kc(22," New Paper Size"),a.Vb(),a.Vb(),a.Vb(),a.Rb(23,"br"),a.Wb(24,"mat-card"),a.Wb(25,"mat-card-header"),a.Wb(26,"h2"),a.Kc(27,"Print Qualities"),a.Vb(),a.Vb(),a.Wb(28,"mat-card-content"),a.Wb(29,"table",2),a.Ub(30,3),a.Ic(31,D,2,0,"th",4),a.Ic(32,_,2,1,"td",5),a.Tb(),a.Ic(33,I,1,0,"tr",7),a.Ic(34,P,1,0,"tr",8),a.Vb(),a.Rb(35,"br"),a.Wb(36,"button",9),a.ic("click",(function(t){return e.addPrintQuality()})),a.Wb(37,"mat-icon"),a.Kc(38,"add"),a.Vb(),a.Kc(39," New Print Quality"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(40,"div",10),a.Wb(41,"mat-card"),a.Wb(42,"mat-card-header"),a.Wb(43,"h2"),a.Kc(44,"Print Rates"),a.Vb(),a.Vb(),a.Wb(45,"mat-card-content"),a.Wb(46,"table",2),a.Ub(47,11),a.Ic(48,z,2,0,"th",4),a.Ic(49,K,2,1,"td",5),a.Tb(),a.Ub(50,12),a.Ic(51,g,2,0,"th",4),a.Ic(52,Q,2,1,"td",5),a.Tb(),a.Ub(53,13),a.Ic(54,q,2,0,"th",4),a.Ic(55,k,3,4,"td",5),a.Tb(),a.Ub(56,14),a.Ic(57,M,2,0,"th",15),a.Ic(58,T,5,7,"td",16),a.Tb(),a.Ub(59,17),a.Ic(60,U,1,0,"th",18),a.Ic(61,O,4,0,"td",5),a.Tb(),a.Ic(62,H,1,0,"tr",7),a.Ic(63,j,1,3,"tr",19),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb()),2&t&&(a.Cb(9),a.sc("dataSource",e.paper_sizes_mds),a.Cb(7),a.sc("matHeaderRowDef",e.paperSizeColumns),a.Cb(1),a.sc("matRowDefColumns",e.paperSizeColumns),a.Cb(12),a.sc("dataSource",e.print_qualities_mds),a.Cb(4),a.sc("matHeaderRowDef",e.printQualityColumns),a.Cb(1),a.sc("matRowDefColumns",e.printQualityColumns),a.Cb(12),a.sc("dataSource",e.print_rates_mds),a.Cb(16),a.sc("matHeaderRowDef",e.printRateColumns),a.Cb(1),a.sc("matRowDefColumns",e.printRateColumns))},directives:[f.a,f.d,f.c,c.j,c.c,c.e,c.b,c.g,c.i,m.b,h.a,c.d,c.a,c.f,c.h,n.k],pipes:[n.d,n.u,v.c,C.a],styles:[".danger[_ngcontent-%COMP%]{background:#ffd7d7}"]}),t}()}],N=function(){function t(){}return t.\u0275mod=a.Ob({type:t}),t.\u0275inj=a.Nb({factory:function(e){return new(e||t)},imports:[[r.j.forChild(x)],r.j]}),t}(),E=i("FpXt");i.d(e,"SettingsModule",(function(){return J}));var J=function(){function t(){}return t.\u0275mod=a.Ob({type:t}),t.\u0275inj=a.Nb({factory:function(e){return new(e||t)},imports:[[n.c,N,E.a,v.b.forRoot()]]}),t}()}}]);