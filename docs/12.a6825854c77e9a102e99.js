(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{pU93:function(t,e,i){"use strict";i.r(e);var n=i("Valr"),c=i("DUip"),a=i("SWMs"),r=i("ETwC"),s=i("TYT/"),o=i("0gkb"),b=i("o9IV"),l=i("chSY"),p=i("WHFS"),u=i("l5Kb"),d=i("17Os"),f=i("p+mS"),m=i("GsDI"),h=i("eJds"),v=i("H6It"),S=i("/RhQ");function g(t,e){1&t&&(s.Xb(0,"th",23),s.Lc(1," Description "),s.Wb())}function D(t,e){if(1&t&&(s.Xb(0,"td",24),s.Lc(1),s.Wb()),2&t){var i=e.$implicit;s.Db(1),s.Nc(" ",i.description," ")}}function W(t,e){1&t&&(s.Xb(0,"th",23),s.Lc(1," Dimension "),s.Wb())}function X(t,e){if(1&t&&(s.Xb(0,"td",24),s.Lc(1),s.Wb()),2&t){var i=e.$implicit;s.Db(1),s.Nc(" ",i.dimension," ")}}function y(t,e){1&t&&s.Sb(0,"tr",25)}function L(t,e){1&t&&s.Sb(0,"tr",26)}function w(t,e){1&t&&s.Sb(0,"app-ellipis-loading")}function _(t,e){if(1&t){var i=s.Yb();s.Xb(0,"div"),s.Xb(1,"table",5),s.Vb(2,20),s.Jc(3,g,2,0,"th",7),s.Jc(4,D,2,1,"td",8),s.Ub(),s.Vb(5,21),s.Jc(6,W,2,0,"th",7),s.Jc(7,X,2,1,"td",8),s.Ub(),s.Jc(8,y,1,0,"tr",18),s.Jc(9,L,1,0,"tr",22),s.Wb(),s.Jc(10,w,1,0,"app-ellipis-loading",2),s.Sb(11,"br"),s.Xb(12,"button",3),s.jc("click",(function(t){return s.Cc(i),s.nc().addPaperSize()})),s.Xb(13,"mat-icon"),s.Lc(14,"add"),s.Wb(),s.Lc(15," New Paper Size"),s.Wb(),s.Wb()}if(2&t){var n=s.nc();s.Db(1),s.tc("dataSource",n.paper_sizes_mds),s.Db(7),s.tc("matHeaderRowDef",n.paperSizeColumns),s.Db(1),s.tc("matRowDefColumns",n.paperSizeColumns),s.Db(1),s.tc("ngIf",n.isLoadingPaperSizes)}}function R(t,e){1&t&&s.Sb(0,"app-ellipis-loading")}function C(t,e){1&t&&(s.Xb(0,"th",23),s.Lc(1," Description "),s.Wb())}function J(t,e){if(1&t&&(s.Xb(0,"td",24),s.Lc(1),s.Wb()),2&t){var i=e.$implicit;s.Db(1),s.Nc(" ",i.description," ")}}function P(t,e){1&t&&s.Sb(0,"tr",25)}function z(t,e){1&t&&s.Sb(0,"tr",26)}function Q(t,e){if(1&t&&(s.Xb(0,"div"),s.Xb(1,"table",5),s.Vb(2,20),s.Jc(3,C,2,0,"th",7),s.Jc(4,J,2,1,"td",8),s.Ub(),s.Jc(5,P,1,0,"tr",18),s.Jc(6,z,1,0,"tr",22),s.Wb(),s.Wb()),2&t){var i=s.nc();s.Db(1),s.tc("dataSource",i.print_qualities_mds),s.Db(4),s.tc("matHeaderRowDef",i.printQualityColumns),s.Db(1),s.tc("matRowDefColumns",i.printQualityColumns)}}function q(t,e){1&t&&s.Sb(0,"app-ellipis-loading")}function k(t,e){1&t&&s.Sb(0,"app-ellipis-loading")}function N(t,e){1&t&&(s.Xb(0,"th",23),s.Lc(1," Type "),s.Wb())}function U(t,e){if(1&t&&(s.Xb(0,"td",24),s.Lc(1),s.Wb()),2&t){var i=e.$implicit;s.Db(1),s.Nc(" ",i.type_label," ")}}function I(t,e){1&t&&(s.Xb(0,"th",23),s.Lc(1," Paper Size "),s.Wb())}function x(t,e){if(1&t&&(s.Xb(0,"td",24),s.Lc(1),s.Wb()),2&t){var i=e.$implicit;s.Db(1),s.Nc(" ",i.is_printing?i.paper_size.description:"-"," ")}}function V(t,e){1&t&&(s.Xb(0,"th",23),s.Lc(1," Print Quality "),s.Wb())}function $(t,e){if(1&t&&(s.Xb(0,"td",24),s.Lc(1),s.Wb()),2&t){var i=e.$implicit;s.Db(1),s.Nc(" ",i.is_printing?i.print_quality.description:"-"," ")}}function H(t,e){1&t&&(s.Xb(0,"th",23),s.Lc(1," Rate "),s.Wb())}function E(t,e){if(1&t&&(s.Xb(0,"td",27),s.Lc(1),s.oc(2,"currency"),s.Wb()),2&t){var i=e.$implicit;s.Db(1),s.Nc(" ",s.qc(2,1,i.rate," ")," ")}}function O(t,e){1&t&&(s.Xb(0,"th",28),s.Lc(1," Last Update"),s.Wb())}function j(t,e){if(1&t&&(s.Xb(0,"td",29),s.Lc(1),s.oc(2,"titlecase"),s.oc(3,"dfnsDistanceInWordsToNow"),s.oc(4,"parseDate"),s.Wb()),2&t){var i=e.$implicit;s.Db(1),s.Nc(" ",s.pc(2,1,s.pc(3,3,s.pc(4,5,i.created_at)))," ago ")}}function T(t,e){1&t&&s.Sb(0,"th",30)}function Y(t,e){if(1&t){var i=s.Yb();s.Xb(0,"td",24),s.Xb(1,"button",31),s.jc("click",(function(t){s.Cc(i);var n=e.$implicit;return s.nc().editRate(n)})),s.Xb(2,"mat-icon"),s.Lc(3,"edit"),s.Wb(),s.Wb(),s.Wb()}}function M(t,e){1&t&&s.Sb(0,"tr",25)}var A=function(t){return{danger:t}};function F(t,e){1&t&&s.Sb(0,"tr",32),2&t&&s.tc("ngClass",s.xc(1,A,0==e.$implicit.rate))}var G=[{path:"printing-service",component:function(){function t(t,e,i,n,c){this.paperSizeService=t,this.printQualityService=e,this.serviceRateService=i,this.modalService=n,this.stateService=c,this.isLoadingPaperSizes=!1,this.isLoadingPrintQualities=!1,this.isLoadingServiceRates=!1,this.paperSizeColumns=["description","dimension"],this.printQualityColumns=["description"],this.serviceRateColumns=["type","paper_size","print_quality","rate","created_at","action"],this.paper_sizes_mds=new r.k,this.print_qualities_mds=new r.k,this.service_rates_mds=new r.k}return t.prototype.ngOnInit=function(){this.fetchPaperSizes(),this.fetchPrintQualities(),this.fetchServiceRates()},t.prototype.fetchPaperSizes=function(){var t=this;this.isLoadingPaperSizes=!0,this.paperSizeService.query().subscribe((function(e){t.paper_sizes_mds.connect().next(e),t.isLoadingPaperSizes=!1}))},t.prototype.fetchPrintQualities=function(){var t=this;this.isLoadingPrintQualities=!0,this.printQualityService.query().subscribe((function(e){t.print_qualities_mds.connect().next(e),t.isLoadingPrintQualities=!1}))},t.prototype.fetchServiceRates=function(){var t=this;this.isLoadingServiceRates=!0,this.serviceRateService.query().subscribe((function(e){var i=e.map((function(t){return(new a.a).fill(t)}));t.service_rates_mds.connect().next(i),t.isLoadingServiceRates=!1}))},t.prototype.addPaperSize=function(){var t=this;this.modalService.prompt({question:"Enter paper size name:"}).then((function(e){e&&t.modalService.prompt({question:"Enter dimension: (L x W)"}).then((function(i){i&&t.paperSizeService.create({description:e,dimension:i}).subscribe((function(){t.modalService.toast("Paper added!"),t.fetchPaperSizes(),t.fetchServiceRates(),t.stateService.unset("paper_sizes"),t.stateService.unset("service_rates")}))}))}))},t.prototype.addPrintQuality=function(){var t=this;this.modalService.prompt({question:"Enter print quality"}).then((function(e){e&&t.printQualityService.create({description:e}).subscribe((function(){t.modalService.toast("Print quality added!"),t.fetchPrintQualities(),t.fetchServiceRates(),t.stateService.unset("print_qualities"),t.stateService.unset("service_rates")}))}))},t.prototype.editRate=function(t){var e=this;this.modalService.prompt({question:t.is_scanning?"Enter rate for scanning":"Enter new rate for "+t.paper_size.description+"-"+t.print_quality.description,value:t.rate.toString()}).then((function(i){if(i){var n=JSON.parse(JSON.stringify(t));n.rate=i,e.serviceRateService.create(n).subscribe((function(){e.modalService.toast("Print rate quality was updated!"),e.fetchServiceRates(),e.stateService.unset("service_rates")}),(function(t){console.log(t),e.modalService.alert({message:"Error occured!",type:"warn"})}))}}))},t.\u0275fac=function(e){return new(e||t)(s.Rb(o.a),s.Rb(b.a),s.Rb(l.a),s.Rb(p.a),s.Rb(u.a))},t.\u0275cmp=s.Lb({type:t,selectors:[["app-printing-service"]],decls:52,vars:8,consts:[[1,"row"],[1,"col-lg-4"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],[1,"col-lg-8"],["mat-table","",1,"full-width",3,"dataSource"],["matColumnDef","type"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","paper_size"],["matColumnDef","print_quality"],["matColumnDef","rate"],["mat-cell","","class","text-right pr-1",4,"matCellDef"],["matColumnDef","created_at"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","action"],["mat-header-cell","","style","width: 5%",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["matColumnDef","description"],["matColumnDef","dimension"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],["mat-cell","",1,"text-right","pr-1"],["mat-header-cell","",1,"text-center"],["mat-cell","",1,"text-center"],["mat-header-cell","",2,"width","5%"],["mat-button","","color","primary",3,"click"],["mat-row","",3,"ngClass"]],template:function(t,e){1&t&&(s.Xb(0,"h1"),s.Lc(1,"Printing Service Settings"),s.Wb(),s.Xb(2,"div",0),s.Xb(3,"div",1),s.Xb(4,"mat-card"),s.Xb(5,"mat-card-header"),s.Xb(6,"h2"),s.Lc(7,"Paper Sizes"),s.Wb(),s.Wb(),s.Xb(8,"mat-card-content"),s.Jc(9,_,16,4,"div",2),s.Jc(10,R,1,0,"app-ellipis-loading",2),s.Wb(),s.Wb(),s.Sb(11,"br"),s.Xb(12,"mat-card"),s.Xb(13,"mat-card-header"),s.Xb(14,"h2"),s.Lc(15,"Print Qualities"),s.Wb(),s.Wb(),s.Xb(16,"mat-card-content"),s.Jc(17,Q,7,3,"div",2),s.Jc(18,q,1,0,"app-ellipis-loading",2),s.Sb(19,"br"),s.Xb(20,"button",3),s.jc("click",(function(t){return e.addPrintQuality()})),s.Xb(21,"mat-icon"),s.Lc(22,"add"),s.Wb(),s.Lc(23," New Print Quality"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(24,"div",4),s.Xb(25,"mat-card"),s.Xb(26,"mat-card-header"),s.Xb(27,"h2"),s.Lc(28,"Service Rates"),s.Wb(),s.Wb(),s.Xb(29,"mat-card-content"),s.Jc(30,k,1,0,"app-ellipis-loading",2),s.Xb(31,"table",5),s.Vb(32,6),s.Jc(33,N,2,0,"th",7),s.Jc(34,U,2,1,"td",8),s.Ub(),s.Vb(35,9),s.Jc(36,I,2,0,"th",7),s.Jc(37,x,2,1,"td",8),s.Ub(),s.Vb(38,10),s.Jc(39,V,2,0,"th",7),s.Jc(40,$,2,1,"td",8),s.Ub(),s.Vb(41,11),s.Jc(42,H,2,0,"th",7),s.Jc(43,E,3,4,"td",12),s.Ub(),s.Vb(44,13),s.Jc(45,O,2,0,"th",14),s.Jc(46,j,5,7,"td",15),s.Ub(),s.Vb(47,16),s.Jc(48,T,1,0,"th",17),s.Jc(49,Y,4,0,"td",8),s.Ub(),s.Jc(50,M,1,0,"tr",18),s.Jc(51,F,1,3,"tr",19),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Db(9),s.tc("ngIf",0==e.isLoadingPaperSizes),s.Db(1),s.tc("ngIf",e.isLoadingPaperSizes),s.Db(7),s.tc("ngIf",0==e.isLoadingPrintQualities),s.Db(1),s.tc("ngIf",e.isLoadingPrintQualities),s.Db(12),s.tc("ngIf",e.isLoadingServiceRates),s.Db(1),s.tc("dataSource",e.service_rates_mds),s.Db(19),s.tc("matHeaderRowDef",e.serviceRateColumns),s.Db(1),s.tc("matRowDefColumns",e.serviceRateColumns))},directives:[d.a,d.d,d.c,n.m,f.b,m.a,r.j,r.c,r.e,r.b,r.g,r.i,r.d,r.a,r.f,r.h,h.a,n.k],pipes:[n.d,n.u,v.c,S.a],styles:[".danger[_ngcontent-%COMP%]{background:#ffd7d7}"]}),t}(),canActivate:[i("PAkU").a]}],K=function(){function t(){}return t.\u0275mod=s.Pb({type:t}),t.\u0275inj=s.Ob({factory:function(e){return new(e||t)},imports:[[c.k.forChild(G)],c.k]}),t}(),B=i("FpXt");i.d(e,"SettingsModule",(function(){return Z}));var Z=function(){function t(){}return t.\u0275mod=s.Pb({type:t}),t.\u0275inj=s.Ob({factory:function(e){return new(e||t)},imports:[[n.c,K,B.a,v.b.forRoot()]]}),t}()}}]);