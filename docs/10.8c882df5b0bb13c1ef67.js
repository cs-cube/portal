(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{pU93:function(t,e,i){"use strict";i.r(e);var n=i("Valr"),c=i("DUip"),a=i("SWMs"),r=i("ETwC"),s=i("TYT/"),o=i("0gkb"),b=i("o9IV"),l=i("chSY"),p=i("WHFS"),u=i("l5Kb"),d=i("17Os"),m=i("p+mS"),f=i("GsDI"),h=i("eJds"),v=i("H6It"),S=i("/RhQ");function g(t,e){1&t&&(s.Wb(0,"th",23),s.Kc(1," Description "),s.Vb())}function C(t,e){if(1&t&&(s.Wb(0,"td",24),s.Kc(1),s.Vb()),2&t){var i=e.$implicit;s.Cb(1),s.Mc(" ",i.description," ")}}function W(t,e){1&t&&(s.Wb(0,"th",23),s.Kc(1," Dimension "),s.Vb())}function R(t,e){if(1&t&&(s.Wb(0,"td",24),s.Kc(1),s.Vb()),2&t){var i=e.$implicit;s.Cb(1),s.Mc(" ",i.dimension," ")}}function V(t,e){1&t&&s.Rb(0,"tr",25)}function y(t,e){1&t&&s.Rb(0,"tr",26)}function w(t,e){1&t&&s.Rb(0,"app-ellipis-loading")}function I(t,e){if(1&t){var i=s.Xb();s.Wb(0,"div"),s.Wb(1,"table",5),s.Ub(2,20),s.Ic(3,g,2,0,"th",7),s.Ic(4,C,2,1,"td",8),s.Tb(),s.Ub(5,21),s.Ic(6,W,2,0,"th",7),s.Ic(7,R,2,1,"td",8),s.Tb(),s.Ic(8,V,1,0,"tr",18),s.Ic(9,y,1,0,"tr",22),s.Vb(),s.Ic(10,w,1,0,"app-ellipis-loading",2),s.Rb(11,"br"),s.Wb(12,"button",3),s.ic("click",(function(t){return s.Bc(i),s.mc().addPaperSize()})),s.Wb(13,"mat-icon"),s.Kc(14,"add"),s.Vb(),s.Kc(15," New Paper Size"),s.Vb(),s.Vb()}if(2&t){var n=s.mc();s.Cb(1),s.sc("dataSource",n.paper_sizes_mds),s.Cb(7),s.sc("matHeaderRowDef",n.paperSizeColumns),s.Cb(1),s.sc("matRowDefColumns",n.paperSizeColumns),s.Cb(1),s.sc("ngIf",n.isLoadingPaperSizes)}}function _(t,e){1&t&&s.Rb(0,"app-ellipis-loading")}function P(t,e){1&t&&(s.Wb(0,"th",23),s.Kc(1," Description "),s.Vb())}function D(t,e){if(1&t&&(s.Wb(0,"td",24),s.Kc(1),s.Vb()),2&t){var i=e.$implicit;s.Cb(1),s.Mc(" ",i.description," ")}}function z(t,e){1&t&&s.Rb(0,"tr",25)}function K(t,e){1&t&&s.Rb(0,"tr",26)}function Q(t,e){if(1&t&&(s.Wb(0,"div"),s.Wb(1,"table",5),s.Ub(2,20),s.Ic(3,P,2,0,"th",7),s.Ic(4,D,2,1,"td",8),s.Tb(),s.Ic(5,z,1,0,"tr",18),s.Ic(6,K,1,0,"tr",22),s.Vb(),s.Vb()),2&t){var i=s.mc();s.Cb(1),s.sc("dataSource",i.print_qualities_mds),s.Cb(4),s.sc("matHeaderRowDef",i.printQualityColumns),s.Cb(1),s.sc("matRowDefColumns",i.printQualityColumns)}}function q(t,e){1&t&&s.Rb(0,"app-ellipis-loading")}function L(t,e){1&t&&s.Rb(0,"app-ellipis-loading")}function k(t,e){1&t&&(s.Wb(0,"th",23),s.Kc(1," Type "),s.Vb())}function T(t,e){if(1&t&&(s.Wb(0,"td",24),s.Kc(1),s.Vb()),2&t){var i=e.$implicit;s.Cb(1),s.Mc(" ",i.type_label," ")}}function U(t,e){1&t&&(s.Wb(0,"th",23),s.Kc(1," Paper Size "),s.Vb())}function M(t,e){if(1&t&&(s.Wb(0,"td",24),s.Kc(1),s.Vb()),2&t){var i=e.$implicit;s.Cb(1),s.Mc(" ",i.is_printing?i.paper_size.description:"-"," ")}}function x(t,e){1&t&&(s.Wb(0,"th",23),s.Kc(1," Print Quality "),s.Vb())}function $(t,e){if(1&t&&(s.Wb(0,"td",24),s.Kc(1),s.Vb()),2&t){var i=e.$implicit;s.Cb(1),s.Mc(" ",i.is_printing?i.print_quality.description:"-"," ")}}function H(t,e){1&t&&(s.Wb(0,"th",23),s.Kc(1," Rate "),s.Vb())}function E(t,e){if(1&t&&(s.Wb(0,"td",27),s.Kc(1),s.nc(2,"currency"),s.Vb()),2&t){var i=e.$implicit;s.Cb(1),s.Mc(" ",s.pc(2,1,i.rate," ")," ")}}function N(t,e){1&t&&(s.Wb(0,"th",28),s.Kc(1," Last Update"),s.Vb())}function O(t,e){if(1&t&&(s.Wb(0,"td",29),s.Kc(1),s.nc(2,"titlecase"),s.nc(3,"dfnsDistanceInWordsToNow"),s.nc(4,"parseDate"),s.Vb()),2&t){var i=e.$implicit;s.Cb(1),s.Mc(" ",s.oc(2,1,s.oc(3,3,s.oc(4,5,i.created_at)))," ago ")}}function J(t,e){1&t&&s.Rb(0,"th",30)}function j(t,e){if(1&t){var i=s.Xb();s.Wb(0,"td",24),s.Wb(1,"button",31),s.ic("click",(function(t){s.Bc(i);var n=e.$implicit;return s.mc().editRate(n)})),s.Wb(2,"mat-icon"),s.Kc(3,"edit"),s.Vb(),s.Vb(),s.Vb()}}function X(t,e){1&t&&s.Rb(0,"tr",25)}var A=function(t){return{danger:t}};function B(t,e){1&t&&s.Rb(0,"tr",32),2&t&&s.sc("ngClass",s.wc(1,A,0==e.$implicit.rate))}var F=[{path:"printing-service",component:function(){function t(t,e,i,n,c){this.paperSizeService=t,this.printQualityService=e,this.serviceRateService=i,this.modalService=n,this.stateService=c,this.isLoadingPaperSizes=!1,this.isLoadingPrintQualities=!1,this.isLoadingServiceRates=!1,this.paperSizeColumns=["description","dimension"],this.printQualityColumns=["description"],this.serviceRateColumns=["type","paper_size","print_quality","rate","created_at","action"],this.paper_sizes_mds=new r.k,this.print_qualities_mds=new r.k,this.service_rates_mds=new r.k}return t.prototype.ngOnInit=function(){this.fetchPaperSizes(),this.fetchPrintQualities(),this.fetchServiceRates()},t.prototype.fetchPaperSizes=function(){var t=this;this.isLoadingPaperSizes=!0,this.paperSizeService.query().subscribe((function(e){t.paper_sizes_mds.connect().next(e),t.isLoadingPaperSizes=!1}))},t.prototype.fetchPrintQualities=function(){var t=this;this.isLoadingPrintQualities=!0,this.printQualityService.query().subscribe((function(e){t.print_qualities_mds.connect().next(e),t.isLoadingPrintQualities=!1}))},t.prototype.fetchServiceRates=function(){var t=this;this.isLoadingServiceRates=!0,this.serviceRateService.query().subscribe((function(e){var i=e.map((function(t){return(new a.a).fill(t)}));t.service_rates_mds.connect().next(i),t.isLoadingServiceRates=!1}))},t.prototype.addPaperSize=function(){var t=this;this.modalService.prompt({question:"Enter paper size name:"}).then((function(e){e&&t.modalService.prompt({question:"Enter dimension: (L x W)"}).then((function(i){i&&t.paperSizeService.create({description:e,dimension:i}).subscribe((function(){t.modalService.toast("Paper added!"),t.fetchPaperSizes(),t.fetchServiceRates(),t.stateService.unset("paper_sizes"),t.stateService.unset("service_rates")}))}))}))},t.prototype.addPrintQuality=function(){var t=this;this.modalService.prompt({question:"Enter print quality"}).then((function(e){e&&t.printQualityService.create({description:e}).subscribe((function(){t.modalService.toast("Print quality added!"),t.fetchPrintQualities(),t.fetchServiceRates(),t.stateService.unset("print_qualities"),t.stateService.unset("service_rates")}))}))},t.prototype.editRate=function(t){var e=this;this.modalService.prompt({question:t.is_scanning?"Enter rate for scanning":"Enter new rate for "+t.paper_size.description+"-"+t.print_quality.description,value:t.rate.toString()}).then((function(i){if(i){var n=JSON.parse(JSON.stringify(t));n.rate=i,e.serviceRateService.create(n).subscribe((function(){e.modalService.toast("Print rate quality was updated!"),e.fetchServiceRates(),e.stateService.unset("service_rates")}),(function(t){console.log(t),e.modalService.alert({message:"Error occured!",type:"warn"})}))}}))},t.\u0275fac=function(e){return new(e||t)(s.Qb(o.a),s.Qb(b.a),s.Qb(l.a),s.Qb(p.a),s.Qb(u.a))},t.\u0275cmp=s.Kb({type:t,selectors:[["app-printing-service"]],decls:52,vars:8,consts:[[1,"row"],[1,"col-lg-4"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],[1,"col-lg-8"],["mat-table","",1,"full-width",3,"dataSource"],["matColumnDef","type"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","paper_size"],["matColumnDef","print_quality"],["matColumnDef","rate"],["mat-cell","","class","text-right pr-1",4,"matCellDef"],["matColumnDef","created_at"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","action"],["mat-header-cell","","style","width: 5%",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["matColumnDef","description"],["matColumnDef","dimension"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],["mat-cell","",1,"text-right","pr-1"],["mat-header-cell","",1,"text-center"],["mat-cell","",1,"text-center"],["mat-header-cell","",2,"width","5%"],["mat-button","","color","primary",3,"click"],["mat-row","",3,"ngClass"]],template:function(t,e){1&t&&(s.Wb(0,"h1"),s.Kc(1,"Printing Service Settings"),s.Vb(),s.Wb(2,"div",0),s.Wb(3,"div",1),s.Wb(4,"mat-card"),s.Wb(5,"mat-card-header"),s.Wb(6,"h2"),s.Kc(7,"Paper Sizes"),s.Vb(),s.Vb(),s.Wb(8,"mat-card-content"),s.Ic(9,I,16,4,"div",2),s.Ic(10,_,1,0,"app-ellipis-loading",2),s.Vb(),s.Vb(),s.Rb(11,"br"),s.Wb(12,"mat-card"),s.Wb(13,"mat-card-header"),s.Wb(14,"h2"),s.Kc(15,"Print Qualities"),s.Vb(),s.Vb(),s.Wb(16,"mat-card-content"),s.Ic(17,Q,7,3,"div",2),s.Ic(18,q,1,0,"app-ellipis-loading",2),s.Rb(19,"br"),s.Wb(20,"button",3),s.ic("click",(function(t){return e.addPrintQuality()})),s.Wb(21,"mat-icon"),s.Kc(22,"add"),s.Vb(),s.Kc(23," New Print Quality"),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(24,"div",4),s.Wb(25,"mat-card"),s.Wb(26,"mat-card-header"),s.Wb(27,"h2"),s.Kc(28,"Service Rates"),s.Vb(),s.Vb(),s.Wb(29,"mat-card-content"),s.Ic(30,L,1,0,"app-ellipis-loading",2),s.Wb(31,"table",5),s.Ub(32,6),s.Ic(33,k,2,0,"th",7),s.Ic(34,T,2,1,"td",8),s.Tb(),s.Ub(35,9),s.Ic(36,U,2,0,"th",7),s.Ic(37,M,2,1,"td",8),s.Tb(),s.Ub(38,10),s.Ic(39,x,2,0,"th",7),s.Ic(40,$,2,1,"td",8),s.Tb(),s.Ub(41,11),s.Ic(42,H,2,0,"th",7),s.Ic(43,E,3,4,"td",12),s.Tb(),s.Ub(44,13),s.Ic(45,N,2,0,"th",14),s.Ic(46,O,5,7,"td",15),s.Tb(),s.Ub(47,16),s.Ic(48,J,1,0,"th",17),s.Ic(49,j,4,0,"td",8),s.Tb(),s.Ic(50,X,1,0,"tr",18),s.Ic(51,B,1,3,"tr",19),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb()),2&t&&(s.Cb(9),s.sc("ngIf",0==e.isLoadingPaperSizes),s.Cb(1),s.sc("ngIf",e.isLoadingPaperSizes),s.Cb(7),s.sc("ngIf",0==e.isLoadingPrintQualities),s.Cb(1),s.sc("ngIf",e.isLoadingPrintQualities),s.Cb(12),s.sc("ngIf",e.isLoadingServiceRates),s.Cb(1),s.sc("dataSource",e.service_rates_mds),s.Cb(19),s.sc("matHeaderRowDef",e.serviceRateColumns),s.Cb(1),s.sc("matRowDefColumns",e.serviceRateColumns))},directives:[d.a,d.d,d.c,n.m,m.b,f.a,r.j,r.c,r.e,r.b,r.g,r.i,r.d,r.a,r.f,r.h,h.a,n.k],pipes:[n.d,n.u,v.c,S.a],styles:[".danger[_ngcontent-%COMP%]{background:#ffd7d7}"]}),t}(),canActivate:[i("PAkU").a]}],Y=function(){function t(){}return t.\u0275mod=s.Ob({type:t}),t.\u0275inj=s.Nb({factory:function(e){return new(e||t)},imports:[[c.k.forChild(F)],c.k]}),t}(),G=i("FpXt");i.d(e,"SettingsModule",(function(){return Z}));var Z=function(){function t(){}return t.\u0275mod=s.Ob({type:t}),t.\u0275inj=s.Nb({factory:function(e){return new(e||t)},imports:[[n.c,Y,G.a,v.b.forRoot()]]}),t}()}}]);