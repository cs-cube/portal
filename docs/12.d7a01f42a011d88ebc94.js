(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{pU93:function(t,e,i){"use strict";i.r(e);var n=i("Valr"),a=i("DUip"),c=i("SWMs"),r=i("ETwC"),s=i("TYT/"),o=i("0gkb"),b=i("o9IV"),p=i("chSY"),l=i("WHFS"),d=i("l5Kb"),u=i("17Os"),m=i("p+mS"),f=i("GsDI"),v=i("eJds"),h=i("H6It"),S=i("/RhQ");function g(t,e){1&t&&(s.Xb(0,"th",25),s.Lc(1," Description "),s.Wb())}function D(t,e){if(1&t&&(s.Xb(0,"td",26),s.Lc(1),s.Wb()),2&t){var i=e.$implicit;s.Db(1),s.Nc(" ",i.description," ")}}function _(t,e){1&t&&(s.Xb(0,"th",25),s.Lc(1," Dimension "),s.Wb())}function W(t,e){if(1&t&&(s.Xb(0,"td",26),s.Lc(1),s.Wb()),2&t){var i=e.$implicit;s.Db(1),s.Nc(" ",i.dimension," ")}}function X(t,e){1&t&&s.Sb(0,"tr",27)}function y(t,e){1&t&&s.Sb(0,"tr",28)}function L(t,e){1&t&&s.Sb(0,"app-ellipis-loading")}function w(t,e){if(1&t){var i=s.Yb();s.Xb(0,"div"),s.Xb(1,"div",6),s.Xb(2,"table",7),s.Vb(3,22),s.Jc(4,g,2,0,"th",9),s.Jc(5,D,2,1,"td",10),s.Ub(),s.Vb(6,23),s.Jc(7,_,2,0,"th",9),s.Jc(8,W,2,1,"td",10),s.Ub(),s.Jc(9,X,1,0,"tr",20),s.Jc(10,y,1,0,"tr",24),s.Wb(),s.Wb(),s.Jc(11,L,1,0,"app-ellipis-loading",2),s.Sb(12,"br"),s.Xb(13,"button",4),s.jc("click",(function(t){return s.Cc(i),s.nc().addPaperSize()})),s.Xb(14,"mat-icon"),s.Lc(15,"add"),s.Wb(),s.Lc(16," New Paper Size"),s.Wb(),s.Wb()}if(2&t){var n=s.nc();s.Db(2),s.tc("dataSource",n.paper_sizes_mds),s.Db(7),s.tc("matHeaderRowDef",n.paperSizeColumns),s.Db(1),s.tc("matRowDefColumns",n.paperSizeColumns),s.Db(1),s.tc("ngIf",n.isLoadingPaperSizes)}}function R(t,e){1&t&&s.Sb(0,"app-ellipis-loading")}function C(t,e){1&t&&(s.Xb(0,"th",25),s.Lc(1," Description "),s.Wb())}function J(t,e){if(1&t&&(s.Xb(0,"td",26),s.Lc(1),s.Wb()),2&t){var i=e.$implicit;s.Db(1),s.Nc(" ",i.description," ")}}function P(t,e){1&t&&s.Sb(0,"tr",27)}function z(t,e){1&t&&s.Sb(0,"tr",28)}function q(t,e){if(1&t&&(s.Xb(0,"div",6),s.Xb(1,"table",7),s.Vb(2,22),s.Jc(3,C,2,0,"th",9),s.Jc(4,J,2,1,"td",10),s.Ub(),s.Jc(5,P,1,0,"tr",20),s.Jc(6,z,1,0,"tr",24),s.Wb(),s.Wb()),2&t){var i=s.nc();s.Db(1),s.tc("dataSource",i.print_qualities_mds),s.Db(4),s.tc("matHeaderRowDef",i.printQualityColumns),s.Db(1),s.tc("matRowDefColumns",i.printQualityColumns)}}function Q(t,e){1&t&&s.Sb(0,"app-ellipis-loading")}function k(t,e){1&t&&s.Sb(0,"app-ellipis-loading")}function x(t,e){1&t&&(s.Xb(0,"th",25),s.Lc(1," Type "),s.Wb())}function I(t,e){if(1&t&&(s.Xb(0,"td",26),s.Lc(1),s.Wb()),2&t){var i=e.$implicit;s.Db(1),s.Nc(" ",i.type_label," ")}}function N(t,e){1&t&&(s.Xb(0,"th",25),s.Lc(1," Paper Size "),s.Wb())}function U(t,e){if(1&t&&(s.Xb(0,"td",26),s.Lc(1),s.Wb()),2&t){var i=e.$implicit;s.Db(1),s.Nc(" ",i.is_printing?i.paper_size.description:"-"," ")}}function V(t,e){1&t&&(s.Xb(0,"th",25),s.Lc(1," Print Quality "),s.Wb())}function $(t,e){if(1&t&&(s.Xb(0,"td",26),s.Lc(1),s.Wb()),2&t){var i=e.$implicit;s.Db(1),s.Nc(" ",i.is_printing?i.print_quality.description:"-"," ")}}function H(t,e){1&t&&(s.Xb(0,"th",25),s.Lc(1," Rate "),s.Wb())}function E(t,e){if(1&t&&(s.Xb(0,"td",29),s.Lc(1),s.oc(2,"currency"),s.Wb()),2&t){var i=e.$implicit;s.Db(1),s.Nc(" ",s.qc(2,1,i.rate," ")," ")}}function O(t,e){1&t&&(s.Xb(0,"th",30),s.Lc(1," Last Update"),s.Wb())}function j(t,e){if(1&t&&(s.Xb(0,"td",31),s.Lc(1),s.oc(2,"titlecase"),s.oc(3,"dfnsDistanceInWordsToNow"),s.oc(4,"parseDate"),s.Wb()),2&t){var i=e.$implicit;s.Db(1),s.Nc(" ",s.pc(2,1,s.pc(3,3,s.pc(4,5,i.created_at)))," ago ")}}function T(t,e){1&t&&s.Sb(0,"th",32)}function Y(t,e){if(1&t){var i=s.Yb();s.Xb(0,"td",26),s.Xb(1,"button",33),s.jc("click",(function(t){s.Cc(i);var n=e.$implicit;return s.nc().editRate(n)})),s.Xb(2,"mat-icon"),s.Lc(3,"edit"),s.Wb(),s.Wb(),s.Wb()}}function M(t,e){1&t&&s.Sb(0,"tr",27)}var A=function(t){return{danger:t}};function F(t,e){1&t&&s.Sb(0,"tr",34),2&t&&s.tc("ngClass",s.xc(1,A,0==e.$implicit.rate))}var G=[{path:"printing-service",component:function(){function t(t,e,i,n,a){this.paperSizeService=t,this.printQualityService=e,this.serviceRateService=i,this.modalService=n,this.stateService=a,this.isLoadingPaperSizes=!1,this.isLoadingPrintQualities=!1,this.isLoadingServiceRates=!1,this.paperSizeColumns=["description","dimension"],this.printQualityColumns=["description"],this.serviceRateColumns=["type","paper_size","print_quality","rate","created_at","action"],this.paper_sizes_mds=new r.k,this.print_qualities_mds=new r.k,this.service_rates_mds=new r.k}return t.prototype.ngOnInit=function(){var t=this.stateService.get("paper_sizes"),e=this.stateService.get("print_qualities"),i=this.stateService.get("service_rates");t&&this.paper_sizes_mds.connect().next(t),e&&this.print_qualities_mds.connect().next(e),i&&this.service_rates_mds.connect().next(i),this.fetchPaperSizes(),this.fetchPrintQualities(),this.fetchServiceRates()},t.prototype.fetchPaperSizes=function(){var t=this;this.isLoadingPaperSizes=!0,this.paperSizeService.query().subscribe((function(e){t.paper_sizes_mds.connect().next(e),t.isLoadingPaperSizes=!1,t.stateService.set("paper_sizes",e)}))},t.prototype.fetchPrintQualities=function(){var t=this;this.isLoadingPrintQualities=!0,this.printQualityService.query().subscribe((function(e){t.print_qualities_mds.connect().next(e),t.isLoadingPrintQualities=!1,t.stateService.set("print_qualities",e)}))},t.prototype.fetchServiceRates=function(){var t=this;this.isLoadingServiceRates=!0,this.serviceRateService.query().subscribe((function(e){var i=e.map((function(t){return(new c.a).fill(t)}));t.service_rates_mds.connect().next(i),t.isLoadingServiceRates=!1,t.stateService.set("service_rates",e)}))},t.prototype.addPaperSize=function(){var t=this;this.modalService.prompt({question:"Enter paper size name:"}).then((function(e){e&&t.modalService.prompt({question:"Enter dimension: (L x W)"}).then((function(i){i&&t.paperSizeService.create({description:e,dimension:i}).subscribe((function(){t.modalService.toast("Paper added!"),t.fetchPaperSizes(),t.fetchServiceRates(),t.stateService.unset("paper_sizes"),t.stateService.unset("service_rates")}))}))}))},t.prototype.addPrintQuality=function(){var t=this;this.modalService.prompt({question:"Enter print quality"}).then((function(e){e&&t.printQualityService.create({description:e}).subscribe((function(){t.modalService.toast("Print quality added!"),t.fetchPrintQualities(),t.fetchServiceRates(),t.stateService.unset("print_qualities"),t.stateService.unset("service_rates")}))}))},t.prototype.editRate=function(t){var e=this;this.modalService.prompt({question:t.is_scanning?"Enter rate for scanning":"Enter new rate for "+t.paper_size.description+"-"+t.print_quality.description,value:t.rate.toString()}).then((function(i){if(i){var n=JSON.parse(JSON.stringify(t));n.rate=i,e.serviceRateService.create(n).subscribe((function(){e.modalService.toast("Print rate quality was updated!"),e.fetchServiceRates(),e.stateService.unset("service_rates")}),(function(t){console.log(t),e.modalService.alert({message:"Error occured!",type:"warn"})}))}}))},t.\u0275fac=function(e){return new(e||t)(s.Rb(o.a),s.Rb(b.a),s.Rb(p.a),s.Rb(l.a),s.Rb(d.a))},t.\u0275cmp=s.Lb({type:t,selectors:[["app-printing-service"]],decls:53,vars:8,consts:[[1,"row"],[1,"col-lg-4"],[4,"ngIf"],["class","table-responsive",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],[1,"col-lg-8"],[1,"table-responsive"],["mat-table","",1,"full-width",3,"dataSource"],["matColumnDef","type"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","paper_size"],["matColumnDef","print_quality"],["matColumnDef","rate"],["mat-cell","","class","text-right pr-1",4,"matCellDef"],["matColumnDef","created_at"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","action"],["mat-header-cell","","style","width: 5%",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["matColumnDef","description"],["matColumnDef","dimension"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],["mat-cell","",1,"text-right","pr-1"],["mat-header-cell","",1,"text-center"],["mat-cell","",1,"text-center"],["mat-header-cell","",2,"width","5%"],["mat-button","","color","primary",3,"click"],["mat-row","",3,"ngClass"]],template:function(t,e){1&t&&(s.Xb(0,"h1"),s.Lc(1,"Printing Service Settings"),s.Wb(),s.Xb(2,"div",0),s.Xb(3,"div",1),s.Xb(4,"mat-card"),s.Xb(5,"mat-card-header"),s.Xb(6,"h2"),s.Lc(7,"Paper Sizes"),s.Wb(),s.Wb(),s.Xb(8,"mat-card-content"),s.Jc(9,w,17,4,"div",2),s.Jc(10,R,1,0,"app-ellipis-loading",2),s.Wb(),s.Wb(),s.Sb(11,"br"),s.Xb(12,"mat-card"),s.Xb(13,"mat-card-header"),s.Xb(14,"h2"),s.Lc(15,"Print Qualities"),s.Wb(),s.Wb(),s.Xb(16,"mat-card-content"),s.Jc(17,q,7,3,"div",3),s.Jc(18,Q,1,0,"app-ellipis-loading",2),s.Sb(19,"br"),s.Xb(20,"button",4),s.jc("click",(function(t){return e.addPrintQuality()})),s.Xb(21,"mat-icon"),s.Lc(22,"add"),s.Wb(),s.Lc(23," New Print Quality"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(24,"div",5),s.Xb(25,"mat-card"),s.Xb(26,"mat-card-header"),s.Xb(27,"h2"),s.Lc(28,"Service Rates"),s.Wb(),s.Wb(),s.Xb(29,"mat-card-content"),s.Jc(30,k,1,0,"app-ellipis-loading",2),s.Xb(31,"div",6),s.Xb(32,"table",7),s.Vb(33,8),s.Jc(34,x,2,0,"th",9),s.Jc(35,I,2,1,"td",10),s.Ub(),s.Vb(36,11),s.Jc(37,N,2,0,"th",9),s.Jc(38,U,2,1,"td",10),s.Ub(),s.Vb(39,12),s.Jc(40,V,2,0,"th",9),s.Jc(41,$,2,1,"td",10),s.Ub(),s.Vb(42,13),s.Jc(43,H,2,0,"th",9),s.Jc(44,E,3,4,"td",14),s.Ub(),s.Vb(45,15),s.Jc(46,O,2,0,"th",16),s.Jc(47,j,5,7,"td",17),s.Ub(),s.Vb(48,18),s.Jc(49,T,1,0,"th",19),s.Jc(50,Y,4,0,"td",10),s.Ub(),s.Jc(51,M,1,0,"tr",20),s.Jc(52,F,1,3,"tr",21),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Db(9),s.tc("ngIf",0==e.isLoadingPaperSizes||e.paper_sizes_mds.data),s.Db(1),s.tc("ngIf",e.isLoadingPaperSizes),s.Db(7),s.tc("ngIf",0==e.isLoadingPrintQualities||e.print_qualities_mds.data),s.Db(1),s.tc("ngIf",e.isLoadingPrintQualities),s.Db(12),s.tc("ngIf",e.isLoadingServiceRates),s.Db(2),s.tc("dataSource",e.service_rates_mds),s.Db(19),s.tc("matHeaderRowDef",e.serviceRateColumns),s.Db(1),s.tc("matRowDefColumns",e.serviceRateColumns))},directives:[u.a,u.d,u.c,n.m,m.b,f.a,r.j,r.c,r.e,r.b,r.g,r.i,r.d,r.a,r.f,r.h,v.a,n.k],pipes:[n.d,n.u,h.c,S.a],styles:[".danger[_ngcontent-%COMP%]{background:#ffd7d7}"]}),t}(),canActivate:[i("PAkU").a]}],K=function(){function t(){}return t.\u0275mod=s.Pb({type:t}),t.\u0275inj=s.Ob({factory:function(e){return new(e||t)},imports:[[a.k.forChild(G)],a.k]}),t}(),B=i("FpXt");i.d(e,"SettingsModule",(function(){return Z}));var Z=function(){function t(){}return t.\u0275mod=s.Pb({type:t}),t.\u0275inj=s.Ob({factory:function(e){return new(e||t)},imports:[[n.c,K,B.a,h.b.forRoot()]]}),t}()}}]);